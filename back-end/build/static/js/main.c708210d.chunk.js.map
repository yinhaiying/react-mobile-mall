{"version":3,"sources":["store/constant/productConstant.js","store/constant/cartConstant.js","store/constant/userConstant.js","store/constant/orderConstant.js","store/index.js","store/reducers/productReducers.js","store/reducers/cartReducers.js","store/reducers/userReducers.js","store/reducers/orderReducers.js","components/Header.js","store/actions/userActions.js","components/Footer.js","components/Rating.js","components/Product.js","components/Loading.js","components/Message.js","pages/Home.js","store/actions/productActions.js","pages/ProductPage.js","store/actions/cartActions.js","pages/CartPage.js","components/FormContainer.js","pages/LoginPage.js","api/users.js","pages/RegisterPage.js","pages/ProfilePage.js","pages/ShippingPage.js","pages/PaymentPage.js","pages/SubmitOrderPage.js","store/actions/orderActions.js","api/order.js","pages/OrderDetailsPage.js","App.js","index.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","USER_DETAILS_EMPTY","USER_UPDATE_PROFILE_REQUEST","USER_UPDATE_PROFILE_SUCCESS","USER_UPDATE_PROFILE_FAIL","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_RESET","reducers","combineReducers","productList","state","products","action","type","loading","payload","error","productDetails","product","cart","cartItems","shippingAddress","item","existItem","find","x","map","filter","paymentMethod","userLogin","userInfo","userRegister","userDetails","user","userUpdateProfile","success","orderCreate","isloading","order","orderDetails","orderItems","orderPay","initialState","localStorage","getItem","JSON","parse","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","Header","dispatch","useDispatch","useSelector","Navbar","bg","variant","expand","collapseOnSelect","Container","to","Brand","Toggle","aria-controls","Collapse","id","Nav","className","Link","aria-hidden","xlinkHref","NavDropdown","title","name","Item","onClick","a","removeItem","console","log","Footer","Row","Col","Rating","value","text","iconList","forEach","index","relativeRating","push","processRating","icon","Product","Card","_id","Img","src","image","Body","Title","Text","as","rating","numReviews","price","Spinner","animation","role","style","width","height","margin","display","Message","children","Alert","defaultProps","Home","useEffect","axios","get","data","response","message","Loading","sm","md","lg","xl","ProductPage","history","match","useState","quantity","setQuantity","params","Image","alt","fluid","ListGroup","description","countInStock","Form","Control","onChange","e","target","Array","keys","i","Button","disabled","addToCart","getState","setItem","stringify","Error","CartPage","location","search","Number","split","removerFromCartHandler","removeFromCart","length","rounded","color","padding","reduce","acc","FormContainer","xs","LoginPage","email","setEmail","password","setPassword","redirect","Group","controlId","Label","placeholder","preventDefault","post","login","RegisterPage","setName","rePassword","setRePassword","errorMessage","setErrorMessage","register","ProfilePage","config","headers","Authorization","token","put","updateUserProfile","is","ShippingPage","address","setAddress","city","setCity","postalCode","setPostalCode","province","setProvince","required","PaymentPage","setPaymentMethod","Check","label","SubmitOrderPage","addDecimals","num","Math","round","toFixed","itemsPrice","shippingPrice","totalPrice","createOrder","OrderDetailsPage","orderId","show","setShow","paymentQrcode","setPaymentQrcode","paymentSDK","setPaymentSDK","successPay","clientId","script","document","createElement","async","onload","body","appendChild","addPaypalScript","handleClose","href","isDelivered","DeliveredAt","isPaid","paidAt","Modal","onHide","closeButton","textAlign","backgroundColor","amount","onSuccess","details","paymentResult","uuidv4","status","updata_time","Date","now","email_address","payOrder","App","path","component","exact","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c708210d.chunk.js","sourcesContent":["export const PRODUCT_LIST_REQUEST = \"PRODUCT_LIST_REQUEST\";\nexport const PRODUCT_LIST_SUCCESS = \"PRODUCT_LIST_SUCCESS\";\nexport const PRODUCT_LIST_FAIL = \"PRODUCT_LIST_FAIL\";\n\n\nexport const PRODUCT_DETAILS_REQUEST = \"PRODUCT_DETAIL_REQUEST\";\nexport const PRODUCT_DETAILS_SUCCESS = \"PRODUCT_DETAIL_SUCCESS\";\nexport const PRODUCT_DETAILS_FAIL = \"PRODUCT_DETAIL_FAIL\";\n","export const CART_ADD_ITEM = \"CART_ADD_ITEM\";\nexport const CART_REMOVE_ITEM = \"CART_REMOVE_ITEM\";\n\n\n// 保存收货地址\nexport const CART_SAVE_SHIPPING_ADDRESS = \"CART_SAVE_SHIPPING_ADDRESS\";\n// 保存支付方式\nexport const CART_SAVE_PAYMENT_METHOD = \"CART_SAVE_PAYMENT_METHOD\";\n","// 用户登陆\nexport const USER_LOGIN_REQUEST = \"USER_LOGIN_REQUEST\";\nexport const USER_LOGIN_SUCCESS = \"USER_LOGIN_SUCCESS\";\nexport const USER_LOGIN_FAIL = \"USER_LOGIN_FAIL\";\nexport const USER_LOGOUT = \"USER_LOGOUT\";\n\n// 用户注册\nexport const USER_REGISTER_REQUEST = \"USER_REGISTER_REQUEST\";\nexport const USER_REGISTER_SUCCESS = \"USER_REGISTER_SUCCESS\";\nexport const USER_REGISTER_FAIL = \"USER_REGISTER_FAIL\";\n\n\n// 用户详情\nexport const USER_DETAILS_REQUEST = \"USER_DETAILS_REQUEST\";\nexport const USER_DETAILS_SUCCESS = \"USER_DETAILS_SUCCESS\";\nexport const USER_DETAILS_FAIL = \"USER_DETAILS_FAIL\";\n// 清空用户信息\nexport const USER_DETAILS_EMPTY = \"USER_DETAILS_EMPTY\";\n\n// 更改用户信息\nexport const USER_UPDATE_PROFILE_REQUEST = \"USER_UPDATE_PROFILE_REQUEST\";\nexport const USER_UPDATE_PROFILE_SUCCESS = \"USER_UPDATE_PROFILE_SUCCESS\";\nexport const USER_UPDATE_PROFILE_FAIL = \"USER_UPDATE_PROFILE_FAIL\";\n","export const ORDER_CREATE_REQUEST = \"ORDER_CREATE_REQUEST\";\nexport const ORDER_CREATE_SUCCESS = \"ORDER_CREATE_SUCCESS\";\nexport const ORDER_CREATE_FAIL = \"ORDER_CREATE_FAIL\";\n\n\nexport const ORDER_DETAILS_REQUEST = \"ORDER_DETAILS_REQUEST\";\nexport const ORDER_DETAILS_SUCCESS = \"ORDER_DETAILS_SUCCESS\";\nexport const ORDER_DETAILS_FAIL = \"ORDER_DETAILS_FAIL\";\n\n// 订单支付完成\nexport const ORDER_PAY_REQUEST = \"ORDER_PAY_REQUEST\";\nexport const ORDER_PAY_SUCCESS = \"ORDER_PAY_SUCCESS\";\nexport const ORDER_PAY_FAIL = \"ORDER_PAY_FAIL\";\nexport const ORDER_PAY_RESET = \"ORDER_PAY_RESET\";\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nimport { productListReducer, productDetailsReducer } from \"./reducers/productReducers.js\"\nimport { cartReducer } from \"./reducers/cartReducers.js\";\n\nimport {\n  userLoginReducer,\n  userRegisterReducer,\n  userDetailsReducer,\n  userUpdateProfileReducer\n} from \"./reducers/userReducers.js\";\n\n\nimport { orderCreateReducer, orderDetailsReducer, orderPayReducer } from \"./reducers/orderReducers.js\";\n\n// 把所有的操作state的reducer合并\nconst reducers = combineReducers({\n  productList: productListReducer,\n  productDetails: productDetailsReducer,\n  cart: cartReducer,\n  userLogin: userLoginReducer,\n  userRegister: userRegisterReducer,\n  userDetails: userDetailsReducer,\n  userUpdateProfile: userUpdateProfileReducer,\n  orderCreate: orderCreateReducer,\n  orderDetails: orderDetailsReducer,\n  orderPay: orderPayReducer\n});\n\nconst cartItemsFromStorage = localStorage.getItem(\"cartItems\") ? JSON.parse(localStorage.getItem(\"cartItems\")) : []\nconst cartShippingAddressFromStorage = localStorage.getItem(\"shippingAddress\") ? JSON.parse(localStorage.getItem(\"shippingAddress\")) : {}\nconst paymentMethodFormStorage = localStorage.getItem(\"paymentMethod\") ? JSON.parse(localStorage.getItem(\"paymentMethod\")) : \"\"\n\nconst userInfoFromStorage = localStorage.getItem(\"userInfo\") ? JSON.parse(localStorage.getItem(\"userInfo\")) : null\n\n// 初始值是页面初始化或者页面刷新时还保留的数据。主要是本地存储的数据\nconst initialState = {\n  cart: {\n    cartItems: cartItemsFromStorage,\n    shippingAddress: cartShippingAddressFromStorage,\n    paymentMethod: paymentMethodFormStorage\n  },\n  userLogin: {\n    userInfo: userInfoFromStorage\n  }\n};\n\nconst middleware = [thunk];\n\n\nconst store = createStore(\n  reducers,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware))\n)\n\n\nexport default store;\n","import {\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_DETAILS_REQUEST,\n  PRODUCT_DETAILS_SUCCESS,\n  PRODUCT_DETAILS_FAIL\n} from \"../constant/productConstant.js\";\n\n/*\n获取所有产品的reducer\n*/\n\nexport const productListReducer = (state = { products: [] }, action) => {\n  // reducre中通常需要根据action的类型来执行不同的操作:\n  switch (action.type) {\n    case PRODUCT_LIST_REQUEST:\n      return {\n        loading: true,\n        products: []\n      }\n    case PRODUCT_LIST_SUCCESS:\n      return {\n        loading: false,\n        products: action.payload\n      }\n    case PRODUCT_LIST_FAIL:\n      return {\n        loading: false,\n        error: action.payload\n      }\n    default:\n      return state\n  }\n}\n\n\n/*\n获取单个产品的reducer\n*/\n\nexport const productDetailsReducer = (state = { product: {} }, action) => {\n  // reducre中通常需要根据action的类型来执行不同的操作:\n  switch (action.type) {\n    case PRODUCT_DETAILS_REQUEST:\n      return {\n        loading: true,\n        ...state\n      }\n    case PRODUCT_DETAILS_SUCCESS:\n      return {\n        loading: false,\n        product: action.payload\n      }\n    case PRODUCT_DETAILS_FAIL:\n      return {\n        loading: false,\n        error: action.payload\n      }\n    default:\n      return state\n  }\n}\n","import {\n  CART_ADD_ITEM,\n  CART_REMOVE_ITEM,\n  CART_SAVE_SHIPPING_ADDRESS,\n  CART_SAVE_PAYMENT_METHOD\n} from \"../constant/cartConstant.js\";\n\nexport const cartReducer = (state = { cartItems: [], shippingAddress: {} }, action) => {\n  switch (action.type) {\n    case CART_ADD_ITEM:\n      const item = action.payload;\n      const existItem = state.cartItems.find((x) => x.product === item.product);\n      // 判断购物车中产品是否已经存在\n      if (existItem) {\n        return {\n          ...state,\n          cartItems: state.cartItems.map((x) => x.product === existItem.product ? item : x)\n        }\n      } else {\n        return {\n          ...state,\n          cartItems: [...state.cartItems, item]\n        }\n      }\n\n    case CART_REMOVE_ITEM:\n      return {\n        ...state,\n        cartItems: state.cartItems.filter((x) => x.product !== action.payload)\n      }\n    case CART_SAVE_SHIPPING_ADDRESS:\n      return {\n        ...state,\n        shippingAddress: action.payload\n      }\n    case CART_SAVE_PAYMENT_METHOD:\n      return {\n        ...state,\n        paymentMethod: action.payload\n      }\n    default:\n      return state;\n  }\n}\n","import {\n  USER_LOGIN_REQUEST,\n  USER_LOGIN_SUCCESS,\n  USER_LOGIN_FAIL,\n  USER_LOGOUT,\n  USER_REGISTER_REQUEST,\n  USER_REGISTER_SUCCESS,\n  USER_REGISTER_FAIL,\n  USER_DETAILS_REQUEST,\n  USER_DETAILS_SUCCESS,\n  USER_DETAILS_FAIL,\n  USER_DETAILS_EMPTY,\n  USER_UPDATE_PROFILE_REQUEST,\n  USER_UPDATE_PROFILE_SUCCESS,\n  USER_UPDATE_PROFILE_FAIL\n} from \"../constant/userConstant.js\";\n\n\n\n\n// 用户登陆reducer\nexport const userLoginReducer = (state = {}, action) => {\n  switch (action.type) {\n    case USER_LOGIN_REQUEST:\n      return { loading: true }\n    case USER_LOGIN_SUCCESS:\n      return {\n        loading: false,\n        userInfo: action.payload\n      }\n    case USER_LOGIN_FAIL:\n      return {\n        loading: false,\n        error: action.payload\n      }\n    case USER_LOGOUT:\n      return {\n\n        userInfo: null\n      }\n    default:\n      return state\n\n  }\n}\n\n// 用户注册reducer\nexport const userRegisterReducer = (state = {}, action) => {\n  switch (action.type) {\n    case USER_REGISTER_REQUEST:\n      return { loading: true }\n    case USER_REGISTER_SUCCESS:\n      return {\n        loading: false,\n        userInfo: action.payload\n      }\n    case USER_REGISTER_FAIL:\n      return {\n        loading: false,\n        error: action.payload\n      }\n    default:\n      return state\n  }\n}\n\n// 用户详情reducer\nexport const userDetailsReducer = (state = { user: {} }, action) => {\n  switch (action.type) {\n    case USER_DETAILS_REQUEST:\n      return { loading: true, ...state }\n    case USER_DETAILS_SUCCESS:\n      return {\n        loading: false,\n        user: action.payload\n      }\n    case USER_DETAILS_FAIL:\n      return {\n        loading: false,\n        error: action.payload\n      }\n    case USER_DETAILS_EMPTY:\n      return {\n        loading: false,\n        user: {}\n      }\n    default:\n      return state\n  }\n}\n// 更改用户信息reducer\nexport const userUpdateProfileReducer = (state = {}, action) => {\n  switch (action.type) {\n    case USER_UPDATE_PROFILE_REQUEST:\n      return { loading: true }\n    case USER_UPDATE_PROFILE_SUCCESS:\n      return {\n        loading: false,\n        userInfo: action.payload,\n        success: true\n      }\n    case USER_UPDATE_PROFILE_FAIL:\n      return {\n        loading: false,\n        error: action.payload\n      }\n    default:\n      return state\n  }\n}\n","import {\n  ORDER_CREATE_REQUEST,\n  ORDER_CREATE_SUCCESS,\n  ORDER_CREATE_FAIL,\n  ORDER_DETAILS_REQUEST,\n  ORDER_DETAILS_SUCCESS,\n  ORDER_DETAILS_FAIL,\n  ORDER_PAY_REQUEST,\n  ORDER_PAY_SUCCESS,\n  ORDER_PAY_FAIL,\n  ORDER_PAY_RESET,\n} from \"../constant/orderConstant.js\";\n\nexport const orderCreateReducer = (state = {}, action) => {\n  switch (action.type) {\n    case ORDER_CREATE_REQUEST:\n      return {\n        isloading: true,\n      }\n    case ORDER_CREATE_SUCCESS:\n      return {\n        isloading: false,\n        order: action.payload,\n        success: true\n      }\n    case ORDER_CREATE_FAIL:\n      return {\n        isloading: false,\n        error: action.payload\n      }\n    default:\n      return state;\n  }\n}\n\n// 获取订单reducer\nexport const orderDetailsReducer = (state = { loading: true, orderItems: [], shippingAddress: {} }, action) => {\n  switch (action.type) {\n    case ORDER_DETAILS_REQUEST:\n      return {\n        loading: true,\n        ...state\n      }\n    case ORDER_DETAILS_SUCCESS:\n      return {\n        loading: false,\n        order: action.payload\n      }\n    case ORDER_DETAILS_FAIL:\n      return {\n        loading: false,\n        error: action.payload\n      }\n    default:\n      return state;\n  }\n}\n// 支付完成之后的订单跟新 reducer\nexport const orderPayReducer = (state = {}, action) => {\n  switch (action.type) {\n    case ORDER_PAY_REQUEST:\n      return {\n        loading: true,\n      }\n    case ORDER_PAY_SUCCESS:\n      return {\n        loading: false,\n        // order: action.payload,\n        success: true\n      }\n    case ORDER_PAY_FAIL:\n      return {\n        loading: false,\n        error: action.payload\n      }\n    case ORDER_PAY_RESET:\n      return {}\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Navbar, Nav, Container, NavDropdown } from \"react-bootstrap\"\nimport { logout } from \"../store/actions/userActions.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst Header = () => {\n  const dispatch = useDispatch();\n  // 通过useSelector去拿到用户信息\n  const { userInfo } = useSelector((state) => state.userLogin);\n\n  const onLogout = () => {\n    dispatch(logout())\n  }\n  return (\n    <header>\n      <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\" collapseOnSelect>\n        <Container>\n          <LinkContainer to=\"/\">\n            <Navbar.Brand >海鹰商城</Navbar.Brand>\n          </LinkContainer>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"ml-auto\">\n              <LinkContainer to=\"/cart\">\n                <Nav.Link>\n                  <svg className=\"icon\" aria-hidden=\"true\">\n                    <use xlinkHref=\"#icon-cart\"></use>\n                  </svg>\n                购物车</Nav.Link>\n              </LinkContainer>\n\n              {\n                userInfo ? (\n                  <NavDropdown title={userInfo.name} id=\"dropdown\">\n\n                    <LinkContainer to=\"/profile\">\n                      <NavDropdown.Item >\n                        个人信息\n                      </NavDropdown.Item>\n                    </LinkContainer>\n                    <NavDropdown.Item onClick={onLogout}>\n                      退出登陆\n                      </NavDropdown.Item>\n                  </NavDropdown>) :\n                  (<LinkContainer to=\"/login\">\n                    <Nav.Link>\n                      <svg className=\"icon\" aria-hidden=\"true\">\n                        <use xlinkHref=\"#icon-person\"></use>\n                      </svg>\n                登录</Nav.Link>\n                  </LinkContainer>)\n              }\n\n\n            </Nav>\n          </Navbar.Collapse>\n\n        </Container>\n      </Navbar >\n    </header >\n  )\n}\n\nexport default Header\n","import axios from \"axios\"\nimport {\n  USER_LOGIN_REQUEST,\n  USER_LOGIN_SUCCESS,\n  USER_LOGIN_FAIL,\n  USER_LOGOUT,\n  USER_REGISTER_REQUEST,\n  USER_REGISTER_SUCCESS,\n  USER_REGISTER_FAIL,\n  USER_DETAILS_REQUEST,\n  USER_DETAILS_SUCCESS,\n  USER_DETAILS_FAIL,\n  USER_DETAILS_EMPTY,\n  USER_UPDATE_PROFILE_REQUEST,\n  USER_UPDATE_PROFILE_SUCCESS,\n  USER_UPDATE_PROFILE_FAIL\n\n} from \"../constant/userConstant.js\";\nimport { api_users_login, api_users_register, api_users_profile } from \"../../api/users.js\"\n\n\n\n// 用户注册action\nexport const register = (name, email, password) => async (dispatch) => {\n  try {\n    dispatch({ type: USER_REGISTER_REQUEST });\n    const { data } = await axios.post(api_users_register, { name, email, password });\n    dispatch({ type: USER_REGISTER_SUCCESS, payload: data });\n    // 注册成功之后用户自动登陆\n    dispatch({ type: USER_LOGIN_SUCCESS, payload: data });\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\n  } catch (error) {\n    dispatch({\n      type: USER_REGISTER_FAIL, payload: error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message,\n    })\n  }\n}\n\n// 用户登陆action\nexport const login = (email, password) => async (dispatch) => {\n  try {\n    dispatch({ type: USER_LOGIN_REQUEST });\n    const { data } = await axios.post(api_users_login, { email, password });\n    dispatch({ type: USER_LOGIN_SUCCESS, payload: data });\n    localStorage.setItem(\"userInfo\", JSON.stringify(data))\n  } catch (error) {\n    dispatch({\n      type: USER_LOGIN_FAIL, payload: error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message,\n    })\n  }\n}\n\n\n// 用户退出action\nexport const logout = () => async (dispatch) => {\n  try {\n    dispatch({ type: USER_LOGOUT });\n    dispatch({ type: USER_DETAILS_EMPTY });\n    localStorage.removeItem(\"userInfo\")\n  } catch (error) {\n    console.log(\"error:\", error)\n  }\n}\n\n\n\n// 获取用户个人信息\nexport const getUserDetails = (id) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: USER_DETAILS_REQUEST });\n    // 在action中获取state需要依赖getState\n    const { userLogin: { userInfo } } = getState();\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    }\n    const { data } = await axios.get(`api/users/${id}`, config);\n    dispatch({ type: USER_DETAILS_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({\n      type: USER_DETAILS_FAIL, payload: error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message,\n    })\n  }\n}\n\n\n// 更新用户信息 action\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: USER_UPDATE_PROFILE_REQUEST });\n    // 在action中获取state需要依赖getState\n    const { userLogin: { userInfo } } = getState();\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    }\n    const { data } = await axios.put(`api/users/profile`, user, config);\n    dispatch({ type: USER_UPDATE_PROFILE_SUCCESS, payload: data });\n    // 更新之后，也需要更新获取用户信息的接口，否则store中数据不会更新。\n    dispatch({ type: USER_LOGIN_SUCCESS, payload: data });\n    localStorage.setItem(\"userInfo\", JSON.stringify(data));\n  } catch (error) {\n    dispatch({\n      type: USER_UPDATE_PROFILE_FAIL, payload: error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message,\n    })\n  }\n}\n","import React from 'react'\n\nimport { Container, Row, Col } from \"react-bootstrap\";\n\nconst Footer = () => {\n  return (\n    <footer>\n      <Container>\n        <Row>\n          <Col className=\"text-center py-3\" >Copyright &copy;2021</Col>\n        </Row>\n      </Container>\n    </footer>\n  )\n}\n\nexport default Footer\n\n","import React from 'react'\nimport propTypes from \"prop-types\";\nconst Rating = ({ value, text }) => {\n  const processRating = (value) => {\n    const arr = [0, 1, 2, 3, 4];\n    const iconList = [];\n    arr.forEach((item, index) => {\n      const relativeRating = value - item;\n      if (relativeRating >= 1) {\n        iconList.push(\"#icon-full-star\");\n      } else if (relativeRating >= 0.5) {\n        iconList.push(\"#icon-half-star\")\n      } else {\n        iconList.push(\"#icon-empty-star\")\n      }\n    });\n    return iconList;\n  }\n  const iconList = processRating(value);\n  return (\n    <div className=\"rating-wrapper\">\n      {\n        iconList.map((icon, index) => (\n          <span key={index} className=\"rating\">\n            <svg className=\"icon\" aria-hidden=\"true\">\n              <use xlinkHref={icon}></use>\n            </svg>\n          </span>\n        ))\n      }\n      <span className=\"px-3\">{text && text}</span>\n    </div>\n  )\n}\n\nRating.propTypes = {\n  value: propTypes.number.isRequired,\n  text: propTypes.string.isRequired,\n}\n\nexport default Rating\n","import React from 'react'\nimport { Link } from \"react-router-dom\";\n\nimport { Card } from \"react-bootstrap\";\nimport Rating from \"./Rating.js\";\nfunction Product({ product }) {\n  return (\n    <>\n      <Card className=\"my-3 py-3 rounded\">\n        <Link to={`/products/${product._id}`}>\n          <Card.Img src={product.image} variant=\"top\"></Card.Img>\n        </Link>\n        <Card.Body>\n          <Link to={`/products/${product._id}`}>\n            <Card.Title>{product.name}</Card.Title>\n          </Link>\n          <Card.Text as=\"div\">\n            <Rating value={product.rating} text={`${product.numReviews}条评论`}></Rating>\n          </Card.Text>\n          <Card.Text as=\"h3\">￥{product.price}</Card.Text>\n        </Card.Body>\n      </Card>\n    </>\n  )\n}\n\nexport default Product\n","import React from 'react'\nimport { Spinner } from \"react-bootstrap\";\nconst loading = () => {\n  return (\n    <Spinner animation=\"border\" role=\"status\" style={{ width: \"100px\", height: \"100px\", margin: \"auto\", display: \"block\" }}>\n      <span className=\"sr-only\">Loading</span>\n    </Spinner >\n  )\n}\n\nexport default loading\n","import React from 'react'\nimport { Alert } from \"react-bootstrap\";\nconst Message = ({ variant, children }) => {\n  return (\n    <Alert variant={variant}>\n      {children}\n    </Alert>\n  )\n}\nMessage.defaultProps = {\n  variant: \"info\"\n}\nexport default Message\n","import React, { useState, useEffect } from 'react'\nimport axios from \"axios\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { listProducts } from \"../store/actions/productActions.js\";\nimport { Row, Col } from \"react-bootstrap\";\nimport Product from \"../components/Product.js\";\nimport Loading from \"../components/Loading.js\"\nimport Message from \"../components/Message.js\"\nconst Home = () => {\n  const dispatch = useDispatch();\n  const productList = useSelector(state => state.productList);\n  const { loading, error, products } = productList;\n\n  useEffect(() => {\n    dispatch(listProducts())\n  }, [dispatch]);\n\n  return (\n    <>\n      <h1>最新产品</h1>\n      {\n        loading ? (\n          <Loading></Loading>\n        ) : error ? (<Message variant=\"danger\">{error}</Message>) : (<Row>\n          {products.map((product) =>\n            <Col sm={12} md={6} lg={4} xl={3} key={product._id}>\n              <Product product={product} />\n            </Col>\n          )}\n        </Row>)\n      }\n    </>\n  )\n}\n\nexport default Home\n","\nimport {\n  PRODUCT_LIST_REQUEST,\n  PRODUCT_LIST_SUCCESS,\n  PRODUCT_LIST_FAIL,\n  PRODUCT_DETAILS_REQUEST,\n  PRODUCT_DETAILS_SUCCESS,\n  PRODUCT_DETAILS_FAIL\n} from \"../constant/productConstant.js\";\nimport axios from \"axios\";\n\n\n/*\n获取所有产品的action\n*/\nexport const listProductDetails = (id) => async (dispatch) => {\n  try {\n    dispatch({ type: PRODUCT_DETAILS_REQUEST });\n    const { data } = await axios.get(`/api/products/${id}`)\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DETAILS_FAIL,\n      payload: error.response.data.message\n    }\n    );\n  }\n}\n\n/*\n获取单个产品的action\n*/\nexport const listProducts = () => async (dispatch) => {\n  try {\n    dispatch({ type: PRODUCT_LIST_REQUEST });\n    const { data } = await axios.get(\"/api/products\")\n    dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_LIST_FAIL,\n      payload: error.response.data.message\n    }\n    );\n  }\n}\n","import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { listProductDetails } from \"../store/actions/productActions.js\";\nimport Loading from \"../components/Loading.js\"\nimport Message from \"../components/Message.js\"\nimport {\n  Row,\n  Col,\n  Image,\n  ListGroup,\n  Card,\n  Button,\n  Form\n} from 'react-bootstrap';\nimport Rating from \"../components/Rating.js\";\nimport { Link } from \"react-router-dom\";\nfunction ProductPage({ history, match }) {\n  const [quantity, setQuantity] = useState(1);\n\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(listProductDetails(match.params.id))\n  }, [dispatch, match]);\n  const { loading, product, error } = useSelector((state) => state.productDetails);\n\n  const addToCart = () => {\n    history.push(`/cart/${match.params.id}?quantity=${quantity}`)\n  }\n\n  return (\n    <>\n      <Link to=\"/\" className=\"btn btn-dark my-3\">返回主页</Link>\n      {\n        loading ? (<Loading>加载中</Loading>) : error ?\n          (<Message>{error}</Message>) : (\n            <Row>\n              <Col md={6}>\n                <Image src={product.image} alt={product.name} fluid />\n              </Col>\n              <Col md={3}>\n                <ListGroup variant='flush'>\n                  <ListGroup.Item>\n                    <h3>{product.name}</h3>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                    {\n                      product.rating && <Rating\n                        value={product.rating}\n                        text={`${product.numReviews}条评论`}\n                      />\n                    }\n                  </ListGroup.Item>\n                  <ListGroup.Item>价格：¥{product.price}</ListGroup.Item>\n                  <ListGroup.Item>描述：¥{product.description}</ListGroup.Item>\n                </ListGroup>\n              </Col>\n              <Col md={3}>\n                <Card>\n                  <ListGroup variant='flush'>\n                    <ListGroup.Item>\n                      <Row>\n                        <Col>价格：</Col>\n                        <Col>\n                          <strong>¥{product.price}</strong>\n                        </Col>\n                      </Row>\n                    </ListGroup.Item>\n                    <ListGroup.Item>\n                      <Row>\n                        <Col>库存：</Col>\n                        <Col>{product.countInStock > 0 ? '有货' : '没货'}</Col>\n                      </Row>\n                    </ListGroup.Item>\n                    <ListGroup.Item>\n                      <Row>\n                        <Col>数量：</Col>\n                        <Col>\n                          <Form.Control as=\"select\" value={quantity} onChange={(e) => setQuantity(e.target.value)}>\n                            {\n                              [...Array(product.countInStock).keys()].map((i) => (<option key={i + 1} value={i + 1}>{i + 1}</option>))\n                            }\n                          </Form.Control>\n                        </Col>\n                      </Row>\n                    </ListGroup.Item>\n                    <ListGroup.Item>\n                      <Button\n                        className='btn-block'\n                        type='button'\n                        disabled={product.countInStock === 0}\n                        onClick={addToCart}\n                      >\n                        添加到购物车\n                  </Button>\n                    </ListGroup.Item>\n                  </ListGroup>\n                </Card>\n              </Col>\n            </Row>\n          )\n      }\n    </>\n  )\n}\n\nexport default ProductPage\n","import axios from \"axios\";\n\nimport {\n  CART_ADD_ITEM,\n  CART_REMOVE_ITEM,\n  CART_SAVE_SHIPPING_ADDRESS,\n  CART_SAVE_PAYMENT_METHOD\n} from \"../constant/cartConstant.js\";\n\n/*\n从购物车添加产品action\n\n\n*/\nexport const addToCart = (id, quantity) => async (dispatch, getState) => {\n  try {\n    const { data } = await axios.get(`/api/products/${id}`);\n\n    dispatch({\n      type: CART_ADD_ITEM,\n      payload: {\n        product: data._id,\n        name: data.name,\n        image: data.image,\n        price: data.price,\n        countInStock: data.countInStock,\n        quantity\n      }\n    });\n    localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems))\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n\n\n/*\n从购物车删除产品action\n\n*/\n\nexport const removeFromCart = (id) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: CART_REMOVE_ITEM,\n      payload: id\n    });\n    localStorage.setItem(\"cartItems\", JSON.stringify(getState().cart.cartItems))\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n\n\n// 保存收货地址\nexport const saveShippingAddress = (data) => async (dispatch) => {\n  try {\n    dispatch({\n      type: CART_SAVE_SHIPPING_ADDRESS,\n      payload: data\n    });\n    localStorage.setItem(\"shippingAddress\", JSON.stringify(data))\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n\n\n// 保存支付方式\nexport const savePaymentMethod = (data) => async (dispatch) => {\n  try {\n    dispatch({\n      type: CART_SAVE_PAYMENT_METHOD,\n      payload: data\n    });\n    localStorage.setItem(\"paymentMethod\", JSON.stringify(data))\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n","import React from 'react'\nimport { Link } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addToCart, removeFromCart } from \"../store/actions/cartActions.js\";\nimport { Row, Col, ListGroup, Image, Form, Button, Card } from 'react-bootstrap';\nimport Message from '../components/Message'\nconst CartPage = ({ match, location, history }) => {\n  const dispatch = useDispatch();\n  const id = match.params.id;\n  const quantity = location.search ? Number(location.search.split(\"=\")[1]) : 1;\n\n  useEffect(() => {\n    if (id) {\n      dispatch(addToCart(id, quantity));\n    }\n  }, [dispatch, id, quantity]);\n  const { cartItems } = useSelector((state) => state.cart);\n  //购物车移除产品\n  const removerFromCartHandler = (id) => {\n    dispatch(removeFromCart(id))\n  }\n  //支付函数\n  const checkoutHandler = () => {\n    history.push('/login?redirect=shipping')\n  }\n  return (\n    <Row>\n      <Col md={8}>\n        <h2>全部商品</h2>\n        {cartItems.length === 0 ? (\n          <Message>\n            购物为空<Link to='/'>返回主页</Link>\n          </Message>\n        ) : (\n            <ListGroup variant='flush'>\n              {cartItems.map((item) => (\n                <ListGroup.Item key={item.product}>\n                  <Row>\n                    <Col md={2}>\n                      <Image src={item.image} alt={item.name} fluid rounded />\n                    </Col>\n                    <Col md={3}>\n                      <Link to={`/products/${item.product}`}>{item.name}</Link>\n                    </Col>\n                    <Col md={2}>{item.price}</Col>\n                    <Col md={2}>\n                      <Form.Control\n                        as='select'\n                        value={item.quantity}\n                        onChange={(e) =>\n                          dispatch(\n                            addToCart(item.product, Number(e.target.value))\n                          )\n                        }\n                      >\n                        {[...Array(item.countInStock).keys()].map((i) => (\n                          <option key={i + 1} value={i + 1}>\n                            {i + 1}\n                          </option>\n                        ))}\n                      </Form.Control>\n                    </Col>\n                    <Col>\n                      <Button\n                        type='button'\n                        onClick={() => removerFromCartHandler(item.product)}\n                      >\n                        <svg className=\"icon\" aria-hidden=\"true\">\n                          <use xlinkHref=\"#icon-delete\"></use>\n                        </svg>\n                      </Button>\n                    </Col>\n                  </Row>\n                </ListGroup.Item>\n              ))}\n            </ListGroup>\n          )}\n      </Col>\n      <Col md={4}>\n        <Card>\n          <ListGroup variant='flush'>\n            <ListGroup.Item>\n              <h2>\n                已选择<span style={{ color: \"#e2231a\", \"fontWeight\": \"bold\", padding: \"0 4px\" }}>{cartItems.reduce((acc, item) => acc + item.quantity, 0)}</span>件商品\n              </h2>\n              <span style={{ color: \"#e2231a\", \"fontWeight\": \"bold\", \"fontSize\": \"16px\" }}> ¥{cartItems.reduce((acc, item) => acc + item.quantity * item.price, 0)}</span>\n            </ListGroup.Item>\n            <ListGroup.Item>\n              <Button\n                type='button'\n                className='btn-block'\n                disabled={cartItems.length === 0}\n                onClick={checkoutHandler}\n              >\n                去支付\n              </Button>\n            </ListGroup.Item>\n          </ListGroup>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nexport default CartPage\n","import React from 'react'\nimport { Container, Form, Button, Row, Col } from \"react-bootstrap\"\nconst FormContainer = ({ children }) => {\n  return (\n    <Container>\n      <Row className=\"justify-content-md-center\">\n        <Col xs={12} md={6}>\n          {children}\n        </Col>\n      </Row>\n    </Container>\n  )\n}\n\nexport default FormContainer\n","import React, { useState, useEffect } from 'react'\nimport { Link } from \"react-router-dom\";\n\nimport { Form, Button, Row, Col } from \"react-bootstrap\"\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport Message from \"../components/Message.js\";\nimport Loading from \"../components/Loading.js\"\nimport { login } from \"../store/actions/userActions.js\"\n\nimport FormContainer from \"../components/FormContainer.js\";\n\n\nconst LoginPage = ({ location, history }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\n  const dispatch = useDispatch();\n  const { loading, userInfo, error } = useSelector(state => state.userLogin)\n  const onSubmit = (e) => {\n    e.preventDefault();\n    dispatch(login(email, password))\n  }\n\n  // 获取到用户信息之后进行重定向\n  useEffect(() => {\n    if (userInfo) {\n      history.push(redirect)\n    }\n  }, [history, userInfo, redirect])\n\n\n  return (\n    <FormContainer>\n      <h1>登陆</h1>\n      { error && <Message variant=\"danger\">{error}</Message>}\n      <Form>\n        <Form.Group controlId=\"email\">\n          <Form.Label>邮箱：</Form.Label>\n          <Form.Control type=\"email\" placeholder=\"请输入邮箱\" value={email} onChange={(e) => setEmail(e.target.value)} />\n        </Form.Group>\n        <Form.Group controlId=\"password\">\n          <Form.Label>密码：</Form.Label>\n          <Form.Control type=\"password\" placeholder=\"请输入密码\" value={password} onChange={(e) => setPassword(e.target.value)} />\n        </Form.Group>\n        <Button variant=\"primary\" onClick={onSubmit}>登陆</Button>\n      </Form>\n      <Row className=\"my-3\">\n        <Col><Link to={redirect ? `/register?redirect=${redirect}` : \"/register\"}>前往注册</Link></Col>\n      </Row>\n    </FormContainer>\n  )\n}\n\nexport default LoginPage\n","\n\n// 用户登陆\n\nexport const api_users_login = \"/api/users/login\";\n\n\n// 用户注册\nexport const api_users_register = \"/api/users/register\";\n\n\n// 用户详情  GET/PUT\nexport const api_users_profile = \"/api/users/profile\";\n","import React, { useState, useEffect } from 'react'\nimport { Link } from \"react-router-dom\";\n\nimport { Form, Button, Row, Col } from \"react-bootstrap\"\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport Message from \"../components/Message.js\";\nimport Loading from \"../components/Loading.js\"\nimport { login, register } from \"../store/actions/userActions.js\"\n\nimport FormContainer from \"../components/FormContainer.js\";\n\n\nconst RegisterPage = ({ location, history }) => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [rePassword, setRePassword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\n  const dispatch = useDispatch();\n  const { loading, userInfo, error } = useSelector(state => state.userRegister);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    if (password !== rePassword) {\n      setErrorMessage(\"密码不一致\")\n    } else {\n      dispatch(register(name, email, password))\n    }\n  }\n\n  // 获取到用户信息之后进行重定向\n  useEffect(() => {\n    if (userInfo) {\n      history.push(redirect)\n    }\n  }, [history, userInfo, redirect])\n\n\n  return (\n    <FormContainer>\n      {errorMessage && <Message variant=\"danger\">{errorMessage}</Message>}\n      {error && <Message variant=\"danger\">{error}</Message>}\n      <h1>注册</h1>\n      <Form>\n        <Form.Group controlId=\"name\">\n          <Form.Label>用户名：</Form.Label>\n          <Form.Control type=\"email\" placeholder=\"请输入用户名\" value={name} onChange={(e) => setName(e.target.value)} />\n        </Form.Group>\n        <Form.Group controlId=\"email\">\n          <Form.Label>邮箱：</Form.Label>\n          <Form.Control type=\"email\" placeholder=\"请输入邮箱\" value={email} onChange={(e) => setEmail(e.target.value)} />\n        </Form.Group>\n        <Form.Group controlId=\"password\">\n          <Form.Label>密码：</Form.Label>\n          <Form.Control type=\"password\" placeholder=\"请输入密码\" value={password} onChange={(e) => setPassword(e.target.value)} />\n        </Form.Group>\n        <Form.Group controlId=\"rePassword\">\n          <Form.Label>确认密码：</Form.Label>\n          <Form.Control type=\"password\" placeholder=\"请确认密码\" value={rePassword} onChange={(e) => setRePassword(e.target.value)} />\n        </Form.Group>\n        <Button variant=\"primary\" onClick={onSubmit}>注册</Button>\n      </Form>\n      <Row className=\"my-3\">\n        <Col>已有账户?<Link to={redirect ? `/login?redirect=${redirect}` : \"/login\"}>前往登录</Link></Col>\n      </Row>\n    </FormContainer>\n  )\n}\n\nexport default RegisterPage\n","import React, { useState, useEffect } from 'react'\nimport { Link } from \"react-router-dom\";\n\nimport { Form, Button, Row, Col } from \"react-bootstrap\"\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport Message from \"../components/Message.js\";\nimport Loading from \"../components/Loading.js\"\nimport { getUserDetails, updateUserProfile } from \"../store/actions/userActions.js\"\n\nimport FormContainer from \"../components/FormContainer.js\";\n\n\nconst ProfilePage = ({ location, history }) => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [rePassword, setRePassword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(null);\n  const dispatch = useDispatch();\n  // 获取用户详情\n  const { loading, user, error } = useSelector(state => state.userDetails);\n  // 获取用户登录成功之后的状态 必须是用户登陆之后才能获取用户个人信息\n  const { userInfo } = useSelector(state => state.userLogin);\n  const { success } = useSelector(state => state.userUpdateProfile);\n\n  // 更新用户资料\n  const onSubmit = (e) => {\n    e.preventDefault();\n    dispatch(updateUserProfile({ id: user.is, name, email, password }));\n  }\n\n  // 获取到用户信息之后进行重定向\n  useEffect(() => {\n    if (!userInfo) {\n      history.push(\"/login\")\n    } else {\n      //登录之后，如果没有user字段，那么需要请求获取详情的数据\n      if (user && !user.name && !user.email) {\n        dispatch(getUserDetails(\"profile\"));\n      } else {\n        setName(user.name)\n        setEmail(user.email)\n      }\n    }\n  }, [userInfo, user, history])\n  return (\n    <Row>\n      <Col md={3}>\n        {errorMessage && <Message variant=\"danger\">{errorMessage}</Message>}\n        {error && <Message variant=\"danger\">{error}</Message>}\n        {success && <Message variant=\"success\">更新成功</Message>}\n        <h2>个人资料</h2>\n        <Form>\n          <Form.Group controlId=\"name\">\n            <Form.Label>用户名：</Form.Label>\n            <Form.Control type=\"email\" placeholder=\"请输入用户名\" value={name} onChange={(e) => setName(e.target.value)} />\n          </Form.Group>\n          <Form.Group controlId=\"email\">\n            <Form.Label>邮箱：</Form.Label>\n            <Form.Control type=\"email\" placeholder=\"请输入邮箱\" value={email} onChange={(e) => setEmail(e.target.value)} />\n          </Form.Group>\n          <Form.Group controlId=\"password\">\n            <Form.Label>密码：</Form.Label>\n            <Form.Control type=\"password\" placeholder=\"请输入密码\" value={password} onChange={(e) => setPassword(e.target.value)} />\n          </Form.Group>\n          <Form.Group controlId=\"rePassword\">\n            <Form.Label>确认密码：</Form.Label>\n            <Form.Control type=\"password\" placeholder=\"请确认密码\" value={rePassword} onChange={(e) => setRePassword(e.target.value)} />\n          </Form.Group>\n          <Button variant=\"primary\" onClick={onSubmit}>提交</Button>\n        </Form>\n      </Col>\n      <Col md={9}>用户订单信息</Col>\n    </Row>\n  )\n}\n\nexport default ProfilePage\n","import React, { useState, useEffect } from 'react'\nimport { Form, Button, Row, Col } from \"react-bootstrap\"\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { saveShippingAddress } from \"../store/actions/cartActions.js\";\nimport FormContainer from \"../components/FormContainer.js\";\n\n\nconst ShippingPage = ({ history }) => {\n  const { shippingAddress } = useSelector(state => state.cart);\n  const [address, setAddress] = useState(shippingAddress.address || \"\");\n  const [city, setCity] = useState(shippingAddress.city || \"\");\n  const [postalCode, setPostalCode] = useState(shippingAddress.postalCode || \"\");\n  const [province, setProvince] = useState(shippingAddress.province || \"\");\n  const dispatch = useDispatch();\n  const onSubmit = () => {\n    dispatch(saveShippingAddress({ address, city, postalCode, province }));\n    history.push(\"/payment\");\n  }\n  return (\n    <FormContainer>\n      <h2>收货地址</h2>\n      <Form>\n        <Form.Group controlId=\"province\">\n          <Form.Label>省份：</Form.Label>\n          <Form.Control required type=\"text\" placeholder=\"请输入省份\" value={province} onChange={(e) => setProvince(e.target.value)} />\n        </Form.Group>\n        <Form.Group controlId=\"city\">\n          <Form.Label>所在地区：</Form.Label>\n          <Form.Control type=\"text\" placeholder=\"请输入城市\" value={city} onChange={(e) => setCity(e.target.value)} />\n        </Form.Group>\n        <Form.Group controlId=\"address\">\n          <Form.Label>详细地址：</Form.Label>\n          <Form.Control type=\"text\" placeholder=\"请输入地址\" value={address} onChange={(e) => setAddress(e.target.value)} />\n        </Form.Group>\n        <Form.Group controlId=\"postalCode\">\n          <Form.Label>邮编：</Form.Label>\n          <Form.Control type=\"text\" placeholder=\"请输入邮编\" value={postalCode} onChange={(e) => setPostalCode(e.target.value)} />\n        </Form.Group>\n\n        <Button variant=\"primary\" onClick={onSubmit}>继续下一步</Button>\n      </Form>\n    </FormContainer>\n  )\n}\nexport default ShippingPage\n","import React, { useState, useEffect } from 'react'\nimport { Form, Button, Row, Col } from \"react-bootstrap\"\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { savePaymentMethod } from \"../store/actions/cartActions.js\";\nimport FormContainer from \"../components/FormContainer.js\";\n\nconst PaymentPage = ({ history }) => {\n  const { shippingAddress } = useSelector(state => state.cart);\n  const dispatch = useDispatch();\n  if (!shippingAddress) {\n    history.push(\"/shipping\")\n  }\n  const [paymentMethod, setPaymentMethod] = useState(\"微信\");\n  const onSubmit = () => {\n    dispatch(savePaymentMethod(paymentMethod));\n    history.push(\"/orderlist\");\n  }\n  return (\n    <FormContainer>\n      <h2>支付方式</h2>\n      <Form>\n        <Form.Group>\n          <Form.Label as='legend'>选择支付方式</Form.Label>\n\n          <Col>\n            <Form.Check\n              type='radio'\n              label='微信'\n              id='wechat'\n              name='paymenMethod'\n              value='微信'\n              onChange={(e) => setPaymentMethod(e.target.value)}\n            ></Form.Check>\n            <Form.Check\n              type='radio'\n              label='支付宝'\n              id='zhifubao'\n              name='paymenMethod'\n              value='支付宝'\n              onChange={(e) => setPaymentMethod(e.target.value)}\n            ></Form.Check>\n            <Form.Check\n              type='radio'\n              label='paypal'\n              id='paypal'\n              name='paymenMethod'\n              value='paypal'\n              onChange={(e) => setPaymentMethod(e.target.value)}\n            ></Form.Check>\n          </Col>\n        </Form.Group>\n        <Button variant=\"primary\" onClick={onSubmit}>继续下一步</Button>\n      </Form>\n    </FormContainer>\n  )\n}\n\nexport default PaymentPage\n","import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Form, Button, ListGroup, Row, Col, Image, Card } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { createOrder } from \"../store/actions/orderActions\"\nimport Message from '../components/Message';\n\nconst SubmitOrderPage = ({ history }) => {\n  const dispatch = useDispatch();\n\n\n  // 商品价格计算\n  const cart = useSelector((state) => state.cart)\n  //计算价格\n  const addDecimals = (num) => {\n    return (Math.round(num * 100) / 100).toFixed(2)\n  }\n  cart.itemsPrice = addDecimals(\n    cart.cartItems.reduce((acc, item) => acc + item.price * item.quantity, 0)\n  )\n  cart.shippingPrice = addDecimals(cart.itemsPrice > 5000 ? 0 : 20)\n  cart.totalPrice = addDecimals(\n    Number(cart.itemsPrice) + Number(cart.shippingPrice)\n  )\n\n\n  // 订单相关的信息\n  // 获取订单信息\n  const { order, success, error } = useSelector(state => state.orderCreate);\n\n  // 如果提交成功了，那么可以重定向\n  useEffect(() => {\n    if (success) {\n      history.push(`order/${order._id}`)\n    }\n  }, [success, history])\n\n  //提交订单函数\n  const placeorderHandler = () => {\n    dispatch(createOrder({\n      orderItems: cart.cartItems,\n      shippingAddress: cart.shippingAddress,\n      paymentMethod: cart.paymentMethod,\n      itemsPrice: cart.itemsPrice,\n      shippingPrice: cart.shippingPrice,\n      totalPrice: cart.totalPrice\n    }))\n  }\n  return (\n    <>\n      {error && <Message variant=\"danger\">{error}</Message>}\n      {success && <Message variant=\"success\">订单提交成功</Message>}\n      <Row>\n        <Col md={8}>\n          <ListGroup variant='flush'>\n            <ListGroup.Item>\n              <h3>收货地址</h3>\n              <p>\n                <strong>收件人地址：</strong>\n                {cart.shippingAddress.province},{cart.shippingAddress.city},\n                {cart.shippingAddress.address},{cart.shippingAddress.postalCode}\n              </p>\n            </ListGroup.Item>\n\n            <ListGroup.Item>\n              <h3>支付方式</h3>\n              <strong>支付方式：</strong>\n              {cart.paymentMethod}\n            </ListGroup.Item>\n\n            <ListGroup.Item>\n              <h3>产品订单</h3>\n              {cart.cartItems.length === 0 ? (\n                <Message>购物车为空</Message>\n              ) : (\n                  <ListGroup variant='flush'>\n                    {cart.cartItems.map((item, index) => (\n                      <ListGroup.Item key={index}>\n                        <Row>\n                          <Col md={1}>\n                            <Image\n                              src={item.image}\n                              alt={item.name}\n                              fluid\n                              rounded\n                            />\n                          </Col>\n                          <Col>\n                            <Link to={`/products/${item.product}`}>\n                              {item.name}\n                            </Link>\n                          </Col>\n                          <Col md={4}>\n                            {item.quantity} X {item.price} = {item.quantity * item.price}\n                          </Col>\n                        </Row>\n                      </ListGroup.Item>\n                    ))}\n                  </ListGroup>\n                )}\n            </ListGroup.Item>\n          </ListGroup>\n        </Col>\n\n        <Col md={4}>\n          <Card>\n            <ListGroup variant='flush'>\n              <ListGroup.Item>\n                <h2>订单详情</h2>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Row>\n                  <Col>产品总价</Col>\n                  <Col style={{ color: \"#e2231a\", \"fontWeight\": \"bold\", \"fontSize\": \"16px\" }}>￥{cart.itemsPrice}</Col>\n                </Row>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Row>\n                  <Col>运费</Col>\n                  <Col style={{ color: \"#e2231a\", \"fontWeight\": \"bold\", \"fontSize\": \"16px\" }}>￥{cart.shippingPrice}</Col>\n                </Row>\n              </ListGroup.Item>\n              <ListGroup.Item>\n                <Row>\n                  <Col>订单总价</Col>\n                  <Col style={{ color: \"#e2231a\", \"fontWeight\": \"bold\", \"fontSize\": \"16px\" }}>￥{cart.totalPrice}</Col>\n                </Row>\n              </ListGroup.Item>\n              {/* <ListGroup.Item>\n                {error && <Message variant='danger'>{error}</Message>}\n              </ListGroup.Item> */}\n              <ListGroup.Item>\n                <Button\n                  type='button'\n                  className='btn-block'\n                  onClick={placeorderHandler}\n                  disabled={cart.cartItems === 0}\n                >\n                  提交订单\n                </Button>\n              </ListGroup.Item>\n            </ListGroup>\n          </Card>\n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default SubmitOrderPage\n","import axios from \"axios\"\nimport {\n  ORDER_CREATE_REQUEST,\n  ORDER_CREATE_SUCCESS,\n  ORDER_CREATE_FAIL,\n  ORDER_DETAILS_REQUEST,\n  ORDER_DETAILS_SUCCESS,\n  ORDER_DETAILS_FAIL,\n  ORDER_PAY_REQUEST,\n  ORDER_PAY_SUCCESS,\n  ORDER_PAY_FAIL,\n  ORDER_PAY_RESET,\n} from \"../constant/orderConstant.js\";\n\nimport { api_orders } from \"../../api/order.js\"\n\n\n// 创建订单 是私有路由\nexport const createOrder = (order) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_CREATE_REQUEST });\n    // 在action中获取state需要依赖getState\n    const { userLogin: { userInfo } } = getState();\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    }\n    const { data } = await axios.post(api_orders, order, config);\n    dispatch({ type: ORDER_CREATE_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({\n      type: ORDER_CREATE_FAIL, payload: error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message,\n    })\n  }\n}\n\n\n// 根据id获取订单详情\nexport const getOrderDetails = (id) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_DETAILS_REQUEST });\n    // 在action中获取state需要依赖getState\n    const { userLogin: { userInfo } } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    }\n    const { data } = await axios.get(`/api/orders/${id}`, config);\n    dispatch({ type: ORDER_DETAILS_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({\n      type: ORDER_DETAILS_FAIL, payload: error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message,\n    })\n  }\n}\n\n\n// 订单之后完成之后的更新\nexport const payOrder = (orderId, paymentResult) => async (dispatch, getState) => {\n  try {\n    dispatch({ type: ORDER_PAY_REQUEST });\n    // 在action中获取state需要依赖getState\n    const { userLogin: { userInfo } } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    }\n    const { data } = await axios.put(`/api/orders/${orderId}/pay`, paymentResult, config);\n    dispatch({ type: ORDER_PAY_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({\n      type: ORDER_PAY_FAIL, payload: error.response && error.response.data.message\n        ? error.response.data.message\n        : error.message,\n    })\n  }\n}\n","\n\n\n\n// 创建订单\nexport const api_orders = \"/api/orders\";\n","import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { Button, ListGroup, Row, Col, Image, Card, Modal } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getOrderDetails, payOrder } from '../store/actions/orderActions.js'\nimport Message from '../components/Message.js'\nimport Loading from '../components/Loading.js'\nimport axios from 'axios'\nimport { PayPalButton } from \"react-paypal-button-v2\";\nimport { ORDER_PAY_RESET } from \"../store/constant/orderConstant.js\";\nimport { v4 as uuidv4 } from 'uuid';\nconst OrderDetailsPage = ({ match, history }) => {\n  const orderId = match.params.id;\n  const [show, setShow] = useState(false);\n  const [paymentQrcode, setPaymentQrcode] = useState(\"\")\n  const [text, setText] = useState(\"请扫码\");\n\n  const userLogin = useSelector((state) => state.userLogin)\n  const { userInfo } = userLogin;\n  // payment SDK的加载\n  const [paymentSDK, setPaymentSDK] = useState(false);\n  const dispatch = useDispatch()\n\n  const orderDetails = useSelector((state) => state.orderDetails)\n  const { order, loading, error } = orderDetails;\n\n  const { success: successPay } = useSelector((state) => state.orderPay)\n\n\n  // 计算价格\n  if (!loading) {\n    const addDecimals = (num) => {\n      return (Math.round(num * 100) / 100).toFixed(2)\n    }\n    order.itemsPrice = addDecimals(\n      order.orderItems.reduce((acc, item) => acc + item.price * item.quantity, 0)\n    )\n  }\n  //初始化时加载payment sdk\n\n  useEffect(() => {\n    if (!userInfo) {\n      history.push(\"/login\")\n    }\n  }, [history, userInfo])\n\n  useEffect(() => {\n    if (!order || order._id !== orderId || successPay) {\n      dispatch({ type: ORDER_PAY_RESET })\n      dispatch(getOrderDetails(orderId))\n    };\n  }, [order, orderId, successPay, dispatch]);\n\n  useEffect(() => {\n    const addPaypalScript = async () => {\n      if (!paymentSDK) {\n        const { data: clientId } = await axios.get(\"/api/payment/paypal\");\n        // paypal支付需要插入js SDK\n        let script = document.createElement(\"script\");\n        script.type = \"text/javascript\";\n        script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`;\n        script.async = true;\n        script.onload = () => {\n          setPaymentSDK(true)\n        }\n        document.body.appendChild(script)\n      }\n    }\n    addPaypalScript();\n  }, []);\n\n  const handleClose = () => {\n    setShow(false)\n  }\n  const handlePayment = () => {\n    setShow(true);\n    //获取微信返回的支付二维码图片\n    setPaymentQrcode(`https://www.thenewstep.cn/pay/index.php?pid=${order._id}`);\n  }\n\n  const handlePaypalSuccess = (details, data) => {\n    console.log(\"details:\", details);\n    console.log(\"data:\", data);\n    const paymentResult = {\n      id: uuidv4(),\n      status: 2,\n      updata_time: Date.now(),\n      email_address: order.user.email,\n    }\n    //更新完成支付的订单\n    dispatch(payOrder(orderId, paymentResult))\n  }\n\n\n  return loading ? (\n    <Loading />\n  ) : error ? (\n    <Message variant='danger'>{error}</Message>\n  ) :\n      (\n        <div>\n          <h3>订单号：{order._id}</h3>\n          <Row>\n            <Col md={8}>\n              <ListGroup variant='flush'>\n                <ListGroup.Item>\n                  <h2>收货地址</h2>\n                  <p>\n                    <strong>收件人地址：</strong>\n                  </p>\n                  <p>\n                    <strong>姓名:</strong>\n                    {order.user.name}\n                  </p>\n                  <p>\n                    {' '}\n                    <strong>邮箱:</strong>\n                    <a href={`mailto:${order.user.email}`}>{order.user.email}</a>\n                  </p>\n                  <p>\n                    {order.shippingAddress.province},{order.shippingAddress.city},\n                {order.shippingAddress.address},\n                {order.shippingAddress.postalCode}\n                  </p>\n                  {order.isDelivered ? (\n                    <Message variant='success'>\n                      发货时间：{order.DeliveredAt}\n                    </Message>\n                  ) : (\n                      <Message variant='danger'>未发货</Message>\n                    )}\n                </ListGroup.Item>\n\n                <ListGroup.Item>\n                  <h2>支付方式</h2>\n                  <p>\n                    <strong>支付方法：</strong>\n                    {order.paymentMethod}\n                  </p>\n                  {order.isPaid ? (\n                    <Message variant='success'>支付时间：{order.paidAt}</Message>\n                  ) : (\n                      <Message variant='danger'>待支付</Message>\n                    )}\n                </ListGroup.Item>\n\n                <ListGroup.Item>\n                  <h2>产品订单</h2>\n                  {order.orderItems.length === 0 ? (\n                    <Message>购物车为空</Message>\n                  ) : (\n                      <ListGroup variant='flush'>\n                        {order.orderItems.map((item, index) => (\n                          <ListGroup.Item key={index}>\n                            <Row>\n                              <Col md={1}>\n                                <Image\n                                  src={item.image}\n                                  alt={item.name}\n                                  fluid\n                                  rounded\n                                />\n                              </Col>\n                              <Col>\n                                <Link to={`/products/${item.product}`}>\n                                  {item.name}\n                                </Link>\n                              </Col>\n                              <Col md={4}>\n                                {item.quantity} X {item.price} = {item.quantity * item.price}\n                              </Col>\n                            </Row>\n                          </ListGroup.Item>\n                        ))}\n                      </ListGroup>\n                    )}\n                </ListGroup.Item>\n              </ListGroup>\n            </Col>\n\n            <Col md={4}>\n              <Card>\n                <ListGroup variant='flush'>\n                  <ListGroup.Item>\n                    <h2>订单详情</h2>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                    <Row>\n                      <Col>产品总价</Col>\n                      <Col>${order.itemsPrice}</Col>\n                    </Row>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                    <Row>\n                      <Col>运费</Col>\n                      <Col>${order.shippingPrice}</Col>\n                    </Row>\n                  </ListGroup.Item>\n                  <ListGroup.Item>\n                    <Row>\n                      <Col>订单总价</Col>\n                      <Col>${order.totalPrice}</Col>\n                    </Row>\n                  </ListGroup.Item>\n                  {\n                    order.paymentMethod === \"微信\" && (\n                      <ListGroup.Item>\n                        <Button\n                          type='button'\n                          className='btn-block'\n                          onClick={handlePayment}\n                          disabled={order.orderItems.length === 0}\n                        >\n                          去支付\n                        </Button>\n                        <Modal show={show} onHide={handleClose}  >\n                          <Modal.Header closeButton>\n                            <Modal.Title>订单号：{order._id}</Modal.Title>\n                          </Modal.Header>\n                          <Modal.Body>\n                            <p>支付金额：{order.totalPrice}</p>\n                            <p>支付方式：{order.paymentMethod}</p>\n                            <Row>\n                              <Col md={6} style={{ textAlign: 'center' }}>\n                                <Image src={paymentQrcode} />\n                                <p\n                                  style={{\n                                    backgroundColor: '#00C800',\n                                    color: 'white',\n                                  }}\n                                >{text}\n                                </p>\n                              </Col>\n                              <Col>\n                                <Image src='https://ftp.bmp.ovh/imgs/2021/02/80d48a31a051b3b7.jpg' />\n                              </Col>\n                            </Row>\n                          </Modal.Body>\n                          <Modal.Footer>\n                            <Button variant=\"secondary\" onClick={handleClose}>\n                              关闭\n                        </Button>\n                          </Modal.Footer>\n                        </Modal>\n                      </ListGroup.Item>\n                    )\n                  }\n                  {\n                    order.paymentMethod === \"paypal\" && (\n                      <ListGroup.Item>\n                        <PayPalButton\n                          amount={order.totalPrice}\n                          disabled={order.orderItems.length === 0}\n                          onSuccess={handlePaypalSuccess}\n                        />\n                      </ListGroup.Item>\n                    )\n                  }\n                </ListGroup>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n      )\n}\n\nexport default OrderDetailsPage\n","\nimport Header from \"./components/Header.js\";\nimport Footer from \"./components/Footer.js\";\nimport Home from \"./pages/Home.js\"\nimport ProductPage from \"./pages/ProductPage.js\"\nimport CartPage from \"./pages/CartPage.js\"\nimport { Container } from \"react-bootstrap\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport LoginPage from \"./pages/LoginPage.js\";\nimport RegisterPage from \"./pages/RegisterPage.js\";\nimport ProfilePage from \"./pages/ProfilePage.js\";\nimport ShippingPage from \"./pages/ShippingPage.js\";\nimport PaymentPage from \"./pages/PaymentPage.js\";\nimport SubmitOrderPage from \"./pages/SubmitOrderPage.js\";\nimport OrderDetailsPage from \"./pages/OrderDetailsPage.js\";\n\n\nfunction App() {\n  return (\n    <Router>\n      <Header></Header>\n      <main className=\"py-3\">\n        <Container>\n          <Route path='/orderlist' component={SubmitOrderPage} />\n          <Route path='/order/:id' component={OrderDetailsPage} />\n          <Route path=\"/profile\" component={ProfilePage} />\n          <Route path=\"/payment\" component={PaymentPage} />\n          <Route path=\"/shipping\" component={ShippingPage} />\n          <Route path=\"/login\" component={LoginPage}></Route>\n          <Route path=\"/register\" component={RegisterPage}></Route>\n          <Route path=\"/products/:id\" component={ProductPage} />\n          <Route path=\"/cart/:id?\" component={CartPage} />\n          <Route path=\"/\" component={Home} exact />\n        </Container>\n      </main>\n      <Footer></Footer>\n    </Router>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from \"react-redux\"\nimport store from \"./store/index.js\";\n\nimport './index.css';\nimport \"./assets/styles/bootstrap.min.css\"\nimport App from './App';\n\n\n\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}